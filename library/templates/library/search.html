{% extends 'library/base.html' %}
{% block content %}
<form method="GET" style="background: #222; padding: 20px; display: flex; gap: 10px; margin-bottom: 20px;">
    <input type="text" name="q" value="{{ query }}" placeholder="Judul..." style="flex: 2; padding: 10px; background: #111; border: 1px solid #444; color: #fff;">
    <select name="genre" style="flex: 1; padding: 10px; background: #111; border: 1px solid #444; color: #fff;">
        <option value="All">Semua Genre</option>
        {% for g in all_genres %}<option value="{{ g }}">{{ g }}</option>{% endfor %}
    </select>
    <button type="submit" class="btn">CARI</button>
</form>
<h4 style="color: #888;">Hasil Pencarian</h4>
<div class="novel-grid">
    {% for novel in novels %}
    <div class="novel-card">
        <a href="{% url 'novel_detail' novel.id %}">
            <div class="cover-box">{% if novel.cover %}<img src="{{ novel.cover.url }}">{% else %}<span>ðŸ“–</span>{% endif %}</div>
            <h4 style="margin: 5px 0 0 0; color: #ddd; font-size: 14px;">{{ novel.title }}</h4>
        </a>
    </div>
    {% endfor %}
</div>
{% endblock %}